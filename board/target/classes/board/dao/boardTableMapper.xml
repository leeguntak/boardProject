<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boardSQL">

<!-- 글등록 -->
	<insert id="boardWrite" parameterType="java.util.Map">
		insert into boardTable(seq,subject,content,ref) 
					values(seq_board.nextval, #{subject}, #{content}, seq_board.currval)
	</insert>
	<!-- 
	<insert id="boardWrite" parameterType="board.bean.BoardTableDTO">
		insert into boardTable(SEQ, SUBJECT, CONTENT, REF, IMAGE1, logtime) 
							values(seq_boardTable.nextva
									, #{subject}
									, #{content}
									, #{image1}
									, sysdate)
	</insert>
	-->
<!-- 글목록 출력 -->
	<select id="getBoardList" parameterType="java.util.Map" resultType="board">
		select * from
		(select rownum rn, tt.* from
		(select * from boardTable order by ref desc, step asc)tt
		)where rn <![CDATA[ >= ]]> #{startNum} and rn <![CDATA[ <= ]]> #{endNum}
	</select>
	
	<!-- 총글수 -->
	<select id="getTotalA" resultType="int">
		select count(*) from board
	</select>
	
	<!-- 작성한 글 확인 -->
	<select id="getBoard" parameterType="int" resultType="board">
		select * from boardTable where seq=#{seq}
	</select>
	
	
</mapper>